<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <title>Clicker</title>
</head>
<body>
    <h1>Fish Clicker</h1>
    <h2 id="FPS">Fish per Second(0)</h2>
    <h3 id="quantity">0</h3>
    <button id="fishing_button">+1</button><br>
  <div class="container">
    <div class="leftBox">
      <button id="bobber" class="wide_button">Buy Bobber (+1 per click)(-50)</button><br>
      <button id="lure" class="wide_button">Buy Lure (+3 per click)(-200)</button>
    </div>
    <div class="rightBox">
      <button id="hire_son" class="wide_button">Hire Son (+1/5s)(-100)</button><br>
      <button id="hire_fisher" class="wide_button">Hire Fisherman (+1/1s)(-500)</button><br>
    </div>
  </div>
    <button id="reset">Restart Game</button><br>
    <h3 id="notice"></h3>


  <script>
    const quantity = document.getElementById("quantity");
    const fishingButton = document.getElementById("fishing_button");
    const resetButton = document.getElementById("reset");
    const bobberButton = document.getElementById("bobber");
    const noticeMessage = document.getElementById("notice");
    const sonButton = document.getElementById("hire_son");
    const fisherButton = document.getElementById("hire_fisher");
    const lureButton = document.getElementById("lure")
    const FPS = document.getElementById("FPS")

    let bobberCost = 50;
    let lureCost = 200;
    let clickValue = 1;
    let current = 0;
    let Children = 0;
    let hireSonCost = 100;
    let sonSpeed;
    let fishers = 0;
    let fisherCost = 500;
    let fisherSpeed;

    function findFPS() {
      let totalFPS = 0;
        if (sonSpeed || fisherSpeed) {
          const sonRate = sonSpeed ? (Children / 5) : 0;
          const fisherRate = fisherSpeed ? fishers : 0;
          totalFPS = sonRate + fisherRate;
        }
      FPS.textContent = `Fish per Second(${totalFPS.toFixed(2)})`;
    }

  function updateDisplay() {
    quantity.textContent = "$" + current;
    fishingButton.textContent = "+ " + clickValue;
    findFPS();
  }

  function fishingClick() {
    current += clickValue;
    noticeMessage.textContent = "";
    updateDisplay();
  }

  function reset_zero() {
    current = 0;
    clickValue = 1;
    upgradeCost = 50;
    upgradeButton.textContent = "Buy Bobber (+1 per click)(-50)";
    Children = 0;
    fishers = 0;
    hireSonCost = 100;
    FisherCost = 500;
    sonButton.textContent = "Hire Son (+1/5s)(-100)";
    fisherButton.textContent = "Hire Fisherman (+1/1s)(-500)";
    clearInterval(sonSpeed);
    clearInterval(fisherSpeed);
    sonSpeed = null;
    fisherSpeed = null;
    updateDisplay();
  }

  function bobberUpgrade() {
    if (current >= bobberCost) {
      current -= bobberCost;
      bobberCost *= 4;
      clickValue += 1;
      bobberButton.textContent = `Buy Bobber (+1 per click)(-${bobberCost})`;
      updateDisplay();
    } else {
      noticeMessage.textContent = "Insuffishent Funds!";
    }
  }

    function lureUpgrade() {
    if (current >= lureCost) {
      current -= lureCost;
      lureCost *= 3;
      clickValue += 3;
      lureButton.textContent = `Buy lure (+3 per click)(-${lureCost})`;
      updateDisplay();
    } else {
      noticeMessage.textContent = "Insuffishent Funds!";
    }
  }

  function hireSon() {
    if (current >= hireSonCost) {
      current -= hireSonCost;
      Children++;
      hireSonCost *= 1.5;
      sonButton.textContent = `Hire Son (+${Children}/5s)(-${hireSonCost})`;
      startSonFishing();
      updateDisplay();
    } else {
      noticeMessage.textContent = "Insuffishent Funds!";
    }
  }

  function startSonFishing() {
    if (!sonSpeed) {
      sonSpeed = setInterval(() => {
      current += Children;
      updateDisplay();
      }, 5000); // every 5 seconds
    }
  }

    function hireFisher() {
    if (current >= fisherCost) {
      current -= fisherCost;
      fishers++;
      fisherCost *= 1.5;
      fisherButton.textContent = `Hire Fisherman (+${fishers}/1s)(-${fisherCost})`;
      startFisherFishing();
      updateDisplay();
    } else {
      noticeMessage.textContent = "Insuffishent Funds!";
    }
  }

  function startFisherFishing() {
    if (!fisherSpeed) {
      fisherSpeed = setInterval(() => {
      current += fishers;
      updateDisplay();
      }, 1000); // every second
    }
  }

  sonButton.addEventListener("click", hireSon);
  fishingButton.addEventListener("click", fishingClick);
  resetButton.addEventListener("click", reset_zero);
  bobberButton.addEventListener("click", bobberUpgrade);
  fisherButton.addEventListener("click", hireFisher);
  lureButton.addEventListener("click", lureUpgrade);

  updateDisplay();
  </script>
  </body>
</html>